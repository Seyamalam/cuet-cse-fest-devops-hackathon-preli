# =============================================================================
# Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in the values
# DO NOT commit the .env file with actual credentials
# =============================================================================

# =============================================================================
# CORE SERVICE CONFIGURATION
# =============================================================================

# Service Ports (DO NOT CHANGE THESE VALUES)
# These ports are fixed per the requirements
BACKEND_PORT=3847
GATEWAY_PORT=5921

# Environment Mode: development | production
NODE_ENV=development

# =============================================================================
# MONGODB CONFIGURATION
# =============================================================================

# MongoDB Root Credentials (for admin access)
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=change_me_to_secure_password

# MongoDB Application Credentials (used by backend service)
MONGO_APP_USERNAME=app_user
MONGO_APP_PASSWORD=change_me_to_secure_app_password

# MongoDB Database Name
MONGO_DATABASE=ecommerce

# =============================================================================
# PROMETHEUS CONFIGURATION
# =============================================================================

# Prometheus is automatically started with the stack
# Configure scrape intervals and retention in docker-compose files
PROMETHEUS_RETENTION_DAYS=7

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================

GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_to_secure_grafana_password

# =============================================================================
# ELASTICSEARCH & KIBANA CONFIGURATION
# =============================================================================

KIBANA_PORT=5601
ELASTICSEARCH_JAVA_OPTS=-Xms512m -Xmx512m

# =============================================================================
# SENTRY CONFIGURATION
# =============================================================================

SENTRY_PORT=9000
SENTRY_SECRET_KEY=change_me_to_secure_secret_key
SENTRY_DB_USER=sentry
SENTRY_DB_PASSWORD=change_me_to_secure_sentry_db_password

# Sentry DSN URLs for backend and gateway
# Get these from your Sentry project settings after initial setup
# Format: https://key@sentry.example.com/project-id
SENTRY_DSN_BACKEND=
SENTRY_DSN_GATEWAY=

# =============================================================================
# MINIO CONFIGURATION
# =============================================================================

MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=change_me_to_secure_minio_password
MINIO_BUCKET=ecommerce

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=debug

# =============================================================================
# NOTES & SECURITY
# =============================================================================
# 
# 1. MongoDB URI is automatically constructed as:
#    mongodb://${MONGO_APP_USERNAME}:${MONGO_APP_PASSWORD}@mongo:27017/${MONGO_DATABASE}
#
# 2. For production deployments, use strong passwords:
#    - At least 16 characters
#    - Mix of uppercase, lowercase, numbers, and special characters
#    - Generate with: openssl rand -base64 32
#
# 3. Important Security Reminders:
#    - NEVER commit this file with real credentials to version control
#    - .env should be added to .gitignore
#    - Use different, strong credentials for dev vs. prod environments
#    - Rotate credentials regularly
#    - Store secrets in AWS Secrets Manager or similar in production
#
# 4. Default Ports (can be changed via these variables):
#    - Gateway: 5921 (ONLY exposed port in production)
#    - Grafana: 3000 (for metrics visualization)
#    - Kibana: 5601 (for log visualization)
#    - Sentry: 9000 (for error tracking)
#    - MinIO: 9000-9001 (S3-compatible storage)
#    - Backend: 3847 (internal only)
#    - MongoDB: 27017 (internal only)
#    - Prometheus: 9090 (internal only)
#    - Elasticsearch: 9200-9300 (internal only)
#
# 5. Sentry Setup:
#    - First time: Create projects in Sentry UI
#    - Copy DSN values from project settings
#    - Paste into SENTRY_DSN_BACKEND and SENTRY_DSN_GATEWAY
#
# 6. MinIO Setup:
#    - Access Console: http://localhost:9001 (dev) or http://minio-console.example.com (prod)
#    - Default credentials: minioadmin / minioadmin (CHANGE in production!)
#    - Create buckets and access keys through console
#
# =============================================================================
